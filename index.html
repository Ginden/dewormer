<html>
    <head>
        <title>
            Noninvasive debugger statement
        </title>
        <link rel="stylesheet" href="dewormer.css" type="text/css" media="screen"  charset="utf-8"/>
        <meta charset="utf-8">
    </head>
    <body>


        <script src="ugly-browser.js"></script>
        <script src="dewormer.js"></script>
		<section class="header">
		  <div class="container txt-center">
		      
		     <h1><a href="http://ginden.github.io/dewormer">Dewormer.js</a></h1>
		    
		     <button class="btn" id="transform" type="button">Invasive debbuger -> noninvasive</button>
		     <button class="btn" id="beautify">Beautify output</button>
		  </div>
		</section>
		
		<section>
		  <div class="container">
		    <div class="row">
		      <div class="col half">
		        
		        <h3>Input:</h3>
		        <textarea class="editor" id="input">
		        	var ACTIVE_DEBUG = true;
		        	(function a() {
		        		function b(){}
		        		function c(){}
		        		function d() {
		        			function f() {
		        				
		        			}
		        		}
		        		function z() {
		        			var t = 1;
		        			debugger;
		        			
		        			console.log(t)
		        		}
		        		var a = 5;
		        		var wow = 'string';
		        		var uh = 'xD';
		        	})();
		        </textarea>
		        
		      </div>
		      <div class="col half">
		        
		        <h3>Output:</h3>
		        <textarea class="editor" id="output"></textarea>
		        
		      </div>
		    </div>
		  </div>
		</section>
        <script>
            document.querySelector('#transform').onclick = function() {
                document.querySelector('#output').value = dewormer(document.querySelector('#input').value);
            }
            document.querySelector('#beautify').onclick = function() {
                var stream = UglifyJS.OutputStream({beautify: true, indent_level: 4, comments: true});
                var code = UglifyJS.parse(document.querySelector('#output').value).print(stream);
                document.querySelector('#output').value = stream.toString();
            };
            var stream = UglifyJS.OutputStream({beautify: true, indent_level: 4, comments: true});
            var code = UglifyJS.parse(document.querySelector('#input').value).print(stream);
            document.querySelector('#input').value = stream.toString();
        </script>
    </body>
</html>